<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>メモ帳アプリ</title>
    <link rel="stylesheet" href="./styles/style.css">
</head>
<body>
<div class="container">
    <h1>メモ帳アプリ</h1>
    <textarea id="memoInput" placeholder="ここにメモを入力してください"></textarea>
    <button onclick="saveMemo()">保存</button>
    <div id="memoDisplay" class="memo-list"></div>
</div>
<a href="./workshop1.html">戻る</a>

<script>
    function saveMemo() {
        const memo = document.getElementById('memoInput').value;
        if (!memo.trim()) return alert("メモを入力してください");

        let memos = JSON.parse(localStorage.getItem('memos')) || [];
        memos.push({ content: memo });
        localStorage.setItem('memos', JSON.stringify(memos));

        document.getElementById('memoInput').value = "";
        fetchMemos();
    }

    function fetchMemos() {
        const memos = JSON.parse(localStorage.getItem('memos')) || [];
        const memoDisplay = document.getElementById("memoDisplay");
        memoDisplay.innerHTML = memos.map((memo, index) => `
            <div class="memo">
                <p>${memo.content}</p>
                <button class="delate-button" onclick="deleteMemo(${index})">削除</button>
            </div>
        `).join("");
    }

    function deleteMemo(index) {
        let memos = JSON.parse(localStorage.getItem('memos')) || [];
        memos.splice(index, 1);
        localStorage.setItem('memos', JSON.stringify(memos));
        fetchMemos();
    }

    document.addEventListener("DOMContentLoaded", fetchMemos);
</script>
</body>
</html>